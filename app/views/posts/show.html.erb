<p style="color: red"><%= notice %></p>

<div class="row justify-content-center">
  <div class="col-12 col-sm-6 mb-4">

  <%= render @post %>

        <%= form_with(model: [ @post, Comment.new ]) do |form| %>
          <div class="form-group my-2">
              <%= form.label :content, "Ingresa tu comentario" %>
              <%= form.text_area :content, class: "form-control" %>
          </div>
          <%= form.submit "Comentar", class: "btn btn-primary" %>
        <% end %>
        <br>
        

        <% @post.comments.each do |comment| %> <!-- Itero sobre los comentarios de cada post -->
          <div class="my-2 border rounded-2">
            <%= l(comment.created_at, format: :long) %> <br>
            <div class="mx-3">
              <strong class="mt-2 d-inline-block">Comentario</strong> : <%= comment.content %> 
            </div>
            <div class="mx-3"> 
              <strong class="my-2 d-inline-block">Usuario   </strong> : <%= comment.user.name if comment.user %> 
            </div>
            <% if user_signed_in? && current_user.admin? %> 
              <%= button_to "Eliminar comentario", post_comment_path(@post, comment), method: :delete, data: { confirm: "¿Estás seguro de que deseas eliminar este comentario?" }, class: "mb-3 mx-3 btn btn-warning" %>
            <% end %>

          </div>
        <% end %>

        <%= link_to "Regresar", posts_path, class: "btn btn-light" %> |
        <%= link_to "Volver al post", session[:previous_page_url] || posts_path, class: "btn btn-primary" %>
  <br>  <br>
  </div>
</div>

